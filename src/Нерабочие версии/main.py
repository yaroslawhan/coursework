# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'untitled.ui'
#
# Created by: PyQt5 UI code generator 5.15.9
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtWidgets import QMessageBox
import sys
import requests
from datetime import datetime
import json

#Создание и обработка запроса
url = "https://lk.gubkin.ru/schedule/api/api.php"
today = datetime.today()
formatted_date = today.strftime("%d-%m-%Y")
params = {
    "act": "schedule",
    "date": formatted_date, #formatted_date
    "groupId": "9199"
}
response = requests.get(url, params=params)
data = response.json()

# Блок данных
month_names = {
    1: 'января',
    2: 'февраля',
    3: 'марта',
    4: 'апреля',
    5: 'мая',
    6: 'июня',
    7: 'июля',
    8: 'августа',
    9: 'сентября',
    10: 'октября',
    11: 'ноября',
    12: 'декабря'
}
days_of_week = ['Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота', 'Воскресенье']
weekday = today.weekday()
dates = [(int(today.strftime("%d ")) + i - weekday) for i in range(7)]
msgflag = False

# Функция проверки валидности json файла
def is_json(myjson):
  try:
    json.load(myjson)
  except ValueError as e:
    return False
  return True

# Функция неизвестной ошибки
def unknown_error():
    global msgflag, error_flag
    if not msgflag:
        error_flag = True
        msg = QMessageBox()
        msg.setWindowTitle("Ошибка")
        msg.setText("Неизвестная ошибка. Для продолжения загрузите актуальное расписание(Файл/Загрузить актуальное расписание)")
        msg.setIcon(QMessageBox.Critical)
        msg.exec_()
        sys.exit(app.exec_())
    msgflag = False

# Создание некоторых переменных
def data_vars_func():
    global main_title, time_chunks, lessons_data, right_subtitle, app, error_flag
    msgflag = False
    error_flag = False
    try:
        if ("state" in data) and (data["state"] == True):
            if ("rows" in data) and ("rows" in data):
                main_title = (data["rows"]["week"]["weekRussia"]["days"][0]["date"]).split("-")[0] + " " + month_names[int((data["rows"]["week"]["weekRussia"]["days"][0]["date"]).split("-")[1])] + " - " + (data["rows"]["week"]["weekRussia"]["days"][6]["date"]).split("-")[0] + " " + month_names[int((data["rows"]["week"]["weekRussia"]["days"][6]["date"]).split("-")[1])] + ", " + (data["rows"]["week"]["weekRussia"]["days"][6]["date"]).split("-")[2] # int(today.strftime("%d "))
                time_chunks = data["rows"]["organizations"][0]["lessonsTimeChunks"]
                lessons_data = data["rows"]["organizations"][0]["lessons"]
                if data["rows"]["week"]["weekRussia"]["type"] == "lower":
                    right_subtitle = str(data["rows"]["week"]["weekRussia"]["number"]) + "-я неделя, нижняя"
                else:
                    right_subtitle = str(data["rows"]["week"]["weekRussia"]["number"]) + "-я неделя, верхняя"
        elif ("state" in data) and (data["state"] == False):
            try:
                msg = QMessageBox()
                msg.setWindowTitle("Ошибка")
                msg.setText(data["reason"] + ". Для продолжения загрузите актуальное расписание(Файл/Загрузить актуальное расписание)")
                msg.setIcon(QMessageBox.Critical)
                msgflag = True
                error_flag = True
                msg.exec_()
                sys.exit(app.exec_())
            except:
                unknown_error()
    except:
        unknown_error()

class Ui_MainWindow(object):
    def __init__(self):
        self.row_header = []
        self.column_header = []
        self.lessons = []
        self.vlayouts = []
        self.hlayouts = {}
        self.double_lessons_list = []
        self.menu = {}
        self.layout = None

        self.test = []

        self.scrollArea = None

        # Создание палитр для виджетов
        self.palette = {}
        self.palette["row_header"] = {}
        self.palette["row_header"]["frame"] = QtGui.QPalette()
        self.palette["row_header"]["label"] = QtGui.QPalette()
        self.palette["column_header"] = {}
        self.palette["column_header"]["frame"] = {}
        self.palette["column_header"]["frame"]["normal"] = {} 
        self.palette["column_header"]["frame"]["normal"]["text"] = QtGui.QPalette()
        self.palette["column_header"]["frame"]["normal"]["frame"] = QtGui.QPalette()
        self.palette["column_header"]["frame"]["weekend"] = QtGui.QPalette()
        self.palette["column_header"]["frame"]["today"] = QtGui.QPalette()
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Light, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Midlight, brush)
        brush = QtGui.QBrush(QtGui.QColor(127, 127, 127))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Dark, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 170, 170))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Mid, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Text, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.BrightText, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Shadow, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.AlternateBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.ToolTipBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.ToolTipText, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Light, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Midlight, brush)
        brush = QtGui.QBrush(QtGui.QColor(127, 127, 127))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Dark, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 170, 170))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Mid, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Text, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.BrightText, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Shadow, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.AlternateBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ToolTipBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ToolTipText, brush)
        brush = QtGui.QBrush(QtGui.QColor(127, 127, 127))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Light, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Midlight, brush)
        brush = QtGui.QBrush(QtGui.QColor(127, 127, 127))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Dark, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 170, 170))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Mid, brush)
        brush = QtGui.QBrush(QtGui.QColor(127, 127, 127))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Text, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.BrightText, brush)
        brush = QtGui.QBrush(QtGui.QColor(127, 127, 127))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Shadow, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.AlternateBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ToolTipBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ToolTipText, brush)
        #
        brush = QtGui.QBrush(QtGui.QColor(111, 111, 111))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["label"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(111, 111, 111))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["label"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(127, 127, 127))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["row_header"]["label"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.WindowText, brush)
        #
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Light, brush)
        brush = QtGui.QBrush(QtGui.QColor(247, 247, 247))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Midlight, brush)
        brush = QtGui.QBrush(QtGui.QColor(120, 120, 120))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Dark, brush)
        brush = QtGui.QBrush(QtGui.QColor(160, 160, 160))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Mid, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Text, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.BrightText, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 235, 235))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Shadow, brush)
        brush = QtGui.QBrush(QtGui.QColor(247, 247, 247))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.AlternateBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.ToolTipBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.ToolTipText, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Light, brush)
        brush = QtGui.QBrush(QtGui.QColor(247, 247, 247))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Midlight, brush)
        brush = QtGui.QBrush(QtGui.QColor(120, 120, 120))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Dark, brush)
        brush = QtGui.QBrush(QtGui.QColor(160, 160, 160))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Mid, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Text, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.BrightText, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 235, 235))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Shadow, brush)
        brush = QtGui.QBrush(QtGui.QColor(247, 247, 247))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.AlternateBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ToolTipBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ToolTipText, brush)
        brush = QtGui.QBrush(QtGui.QColor(120, 120, 120))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Light, brush)
        brush = QtGui.QBrush(QtGui.QColor(247, 247, 247))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Midlight, brush)
        brush = QtGui.QBrush(QtGui.QColor(120, 120, 120))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Dark, brush)
        brush = QtGui.QBrush(QtGui.QColor(160, 160, 160))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Mid, brush)
        brush = QtGui.QBrush(QtGui.QColor(120, 120, 120))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Text, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.BrightText, brush)
        brush = QtGui.QBrush(QtGui.QColor(120, 120, 120))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 235, 235))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 235, 235))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Shadow, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.AlternateBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ToolTipBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["weekend"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ToolTipText, brush)
        #
        brush = QtGui.QBrush(QtGui.QColor(0, 77, 230))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["today"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 77, 230))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["today"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(125, 125, 125))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["today"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.WindowText, brush)
        #
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Light, brush)
        brush = QtGui.QBrush(QtGui.QColor(247, 247, 247))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Midlight, brush)
        brush = QtGui.QBrush(QtGui.QColor(120, 120, 120))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Dark, brush)
        brush = QtGui.QBrush(QtGui.QColor(160, 160, 160))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Mid, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Text, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.BrightText, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.Shadow, brush)
        brush = QtGui.QBrush(QtGui.QColor(247, 247, 247))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.AlternateBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.ToolTipBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.ToolTipText, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Light, brush)
        brush = QtGui.QBrush(QtGui.QColor(247, 247, 247))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Midlight, brush)
        brush = QtGui.QBrush(QtGui.QColor(120, 120, 120))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Dark, brush)
        brush = QtGui.QBrush(QtGui.QColor(160, 160, 160))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Mid, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Text, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.BrightText, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Shadow, brush)
        brush = QtGui.QBrush(QtGui.QColor(247, 247, 247))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.AlternateBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ToolTipBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ToolTipText, brush)
        brush = QtGui.QBrush(QtGui.QColor(120, 120, 120))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Light, brush)
        brush = QtGui.QBrush(QtGui.QColor(247, 247, 247))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Midlight, brush)
        brush = QtGui.QBrush(QtGui.QColor(120, 120, 120))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Dark, brush)
        brush = QtGui.QBrush(QtGui.QColor(160, 160, 160))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Mid, brush)
        brush = QtGui.QBrush(QtGui.QColor(120, 120, 120))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Text, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.BrightText, brush)
        brush = QtGui.QBrush(QtGui.QColor(120, 120, 120))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Shadow, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.AlternateBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ToolTipBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["frame"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ToolTipText, brush)
        #
        brush = QtGui.QBrush(QtGui.QColor(47, 47, 47))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["text"].setBrush(QtGui.QPalette.Active, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(47, 47, 47))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["text"].setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(125, 125, 125))
        brush.setStyle(QtCore.Qt.SolidPattern)
        self.palette["column_header"]["frame"]["normal"]["text"].setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.WindowText, brush)

    def scrollArea_func(self):
        self.scrollArea = QtWidgets.QScrollArea(self.centralwidget)
        self.layout.addWidget(self.scrollArea)
        self.scrollAreaWidgetContents = QtWidgets.QWidget()
        self.scrollAreaWidgetContents.setGeometry(QtCore.QRect(0, 0, MainWindow.frameGeometry().width(), MainWindow.frameGeometry().height()))
        self.scrollArea.setWidget(self.scrollAreaWidgetContents)

    # Функция для отрисовки hlayout в таблице уроков
    def hlayout_func(self, i, j, k, duration):
        self.hlayouts[str(j)+"_"+str(k)] = QtWidgets.QHBoxLayout(self.scrollAreaWidgetContents)
        self.hlayouts[str(j)+"_"+str(k)].setObjectName(f"table_hlayout_{i}")
        self.gridLayout.addLayout(self.hlayouts[str(j)+"_"+str(k)], j+2, k+2, duration, 1)

    # Функция для отрисовки уроков на форме
    def lessons_func(self, i, j, k, duration):
        self.lessons.append({"frame": QtWidgets.QFrame(self.scrollAreaWidgetContents)})
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.lessons[i]["frame"].sizePolicy().hasHeightForWidth())
        self.lessons[i]["frame"].setSizePolicy(sizePolicy)
        self.lessons[i]["frame"].setMinimumSize(QtCore.QSize(1, 1))
        self.lessons[i]["frame"].setMaximumSize(QtCore.QSize(1000, 1000))
        self.lessons[i]["frame"].setPalette(self.palette["column_header"]["frame"]["normal"]["frame"])
        self.lessons[i]["frame"].setAutoFillBackground(True)
        self.lessons[i]["frame"].setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.lessons[i]["frame"].setFrameShadow(QtWidgets.QFrame.Raised)
        self.lessons[i]["frame"].setObjectName(f"lessons_frame_{i}")
        self.lessons[i]["vlayout"] = QtWidgets.QVBoxLayout(self.lessons[i]["frame"])
        self.lessons[i]["vlayout"].setObjectName(f"lessons_vlayout_{i}")
        self.lessons[i]["label"] = QtWidgets.QLabel(self.lessons[i]["frame"])
        self.lessons[i]["label"].setPalette(self.palette["column_header"]["frame"]["normal"]["text"])
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(10)
        self.lessons[i]["label"].setFont(font)
        self.lessons[i]["label"].setAlignment(QtCore.Qt.AlignLeft)
        self.lessons[i]["label"].setAlignment(QtCore.Qt.AlignTop)
        self.lessons[i]["label"].setObjectName(f"lessons_label_{i}")
        self.lessons[i]["label"].setWordWrap(True)
        self.lessons[i]["vlayout"].addWidget(self.lessons[i]["label"])
        self.lessons[i]["spacer"] = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.lessons[i]["vlayout"].addItem(self.lessons[i]["spacer"])
        self.lessons[i]["label_1"] = QtWidgets.QLabel(self.lessons[i]["frame"])
        self.lessons[i]["label_1"].setPalette(self.palette["column_header"]["frame"]["normal"]["text"])
        self.lessons[i]["label_1"].setFont(font)
        self.lessons[i]["label_1"].setAlignment(QtCore.Qt.AlignLeft)
        self.lessons[i]["label_1"].setObjectName(f"lessons_label_1_{i}")
        self.lessons[i]["label_1"].setWordWrap(True)
        self.lessons[i]["label_1"].setMinimumSize(QtCore.QSize(1, 1))
        self.lessons[i]["label_1"].setMaximumSize(QtCore.QSize(209, 1000))
        self.lessons[i]["vlayout"].addWidget(self.lessons[i]["label_1"])
        if [lessons_data[i]["type"], lessons_data[i]["weekDayNumber"], lessons_data[i]["timeChunks"], lessons_data[i]["course"], lessons_data[i]["groups"][0]["id"]] in self.double_lessons_list:
            self.hlayouts[str(j)+"_"+str(k)].addWidget(self.lessons[i]["frame"])
        else:
            self.gridLayout.addWidget(self.lessons[i]["frame"], j+2, k+2, duration, 1)

    # Функция для отрисовки заголовков строк на форме
    def row_header_func(self, i):
        self.row_header.append({"frame": QtWidgets.QFrame(self.scrollAreaWidgetContents)})
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.row_header[i]["frame"].sizePolicy().hasHeightForWidth())
        self.row_header[i]["frame"].setSizePolicy(sizePolicy)
        self.row_header[i]["frame"].setMinimumSize(QtCore.QSize(120, 90))
        self.row_header[i]["frame"].setMaximumSize(QtCore.QSize(16777215, 1000))
        self.row_header[i]["frame"].setPalette(self.palette["row_header"]["frame"])
        self.row_header[i]["frame"].setAutoFillBackground(True)
        self.row_header[i]["frame"].setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.row_header[i]["frame"].setFrameShadow(QtWidgets.QFrame.Raised)
        self.row_header[i]["frame"].setObjectName(f"row_header_frame_{i}")
        self.row_header[i]["vlayout"] = QtWidgets.QVBoxLayout(self.row_header[i]["frame"])
        self.row_header[i]["vlayout"].setObjectName(f"row_header_verticalLayout_{i}")
        self.row_header[i]["label"] = QtWidgets.QLabel(self.row_header[i]["frame"])
        self.row_header[i]["label"].setPalette(self.palette["row_header"]["label"])
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(10)
        self.row_header[i]["label"].setFont(font)
        self.row_header[i]["label"].setAlignment(QtCore.Qt.AlignCenter)
        self.row_header[i]["label"].setObjectName(f"row_header_label_{i}")
        self.row_header[i]["vlayout"].addWidget(self.row_header[i]["label"])
        self.gridLayout.addWidget(self.row_header[i]["frame"], i+2, 0, 1, 1)

    # Функция для отрисовки заголовков столбцов на форме
    def column_header_func(self, i):
        self.column_header.append({"frame": QtWidgets.QFrame(self.scrollAreaWidgetContents)})
        self.column_header[i]["frame"].setMinimumSize(QtCore.QSize(120, 95))
        self.column_header[i]["frame"].setMaximumSize(QtCore.QSize(16777215, 95))
        if data["rows"]["week"]["weekRussia"]["days"][i]["isStudyDay"] == False:
            self.column_header[i]["frame"].setPalette(self.palette["column_header"]["frame"]["weekend"])
        else:
            self.column_header[i]["frame"].setPalette(self.palette["column_header"]["frame"]["normal"]["frame"])
        self.column_header[i]["frame"].setAutoFillBackground(True)
        self.column_header[i]["frame"].setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.column_header[i]["frame"].setFrameShadow(QtWidgets.QFrame.Raised)
        self.column_header[i]["frame"].setObjectName(f"column_header_frame_{i}")
        self.column_header[i]["vlayout"] = QtWidgets.QVBoxLayout(self.column_header[i]["frame"])
        self.column_header[i]["vlayout"].setObjectName(f"column_header_verticalLayout_{i}")
        self.column_header[i]["label_1"] = QtWidgets.QLabel(self.column_header[i]["frame"])
        if int((data["rows"]["week"]["weekRussia"]["days"][i]["date"]).split("-")[0]) == int(today.strftime("%d ")):
            self.column_header[i]["label_1"].setPalette(self.palette["column_header"]["frame"]["today"])
        else:
            self.column_header[i]["label_1"].setPalette(self.palette["column_header"]["frame"]["normal"]["text"])
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(12)
        self.column_header[i]["label_1"].setFont(font)
        self.column_header[i]["label_1"].setAutoFillBackground(True)
        self.column_header[i]["label_1"].setObjectName(f"column_header_label_1_{i}")
        self.column_header[i]["vlayout"].addWidget(self.column_header[i]["label_1"])
        self.column_header[i]["label_2"] = QtWidgets.QLabel(self.column_header[i]["frame"])
        if int((data["rows"]["week"]["weekRussia"]["days"][i]["date"]).split("-")[0]) == int(today.strftime("%d ")):
            self.column_header[i]["label_2"].setPalette(self.palette["column_header"]["frame"]["today"])
        else:
            self.column_header[i]["label_2"].setPalette(self.palette["column_header"]["frame"]["normal"]["text"])
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(35)
        self.column_header[i]["label_2"].setFont(font)
        self.column_header[i]["label_2"].setAutoFillBackground(True)
        self.column_header[i]["label_2"].setObjectName(f"column_header_label_2_{i}")
        self.column_header[i]["vlayout"].addWidget(self.column_header[i]["label_2"])
        self.gridLayout.addWidget(self.column_header[i]["frame"], 1, i+2, 1, 1)

    # Функция сохранения расписания в файл
    def schedule_save(self):
        file_path, _ = QtWidgets.QFileDialog.getSaveFileName(None, "Сохранить как...", "", "JSON Files (*.json)")
        if file_path:
            with open(file_path, 'w') as file:
                json.dump(data, file)
            file.close()

    # Функция открытия расписания из файла
    def schedule_open(self):
        global data, error_flag
        file_path, _ = QtWidgets.QFileDialog.getOpenFileName(None, "Открыть", "", "JSON Files (*.json)")
        if file_path and is_json(file_path):
            with open(file_path, "r") as file:
                data = json.load(file)
            file.close()
            # Очистка окна
            for i in reversed(range(self.layout.count())): 
                self.layout.itemAt(i).widget().setParent(None)
            # self.scrollArea_func()
            self.row_header = []
            self.column_header = []
            self.lessons = []
            self.vlayouts = []
            self.hlayouts = {}
            self.double_lessons_list = []
            self.menu = {}
            self.layout = None
            self.test = []
            self.scrollArea = None
            self.setupUi(MainWindow)
        elif file_path and not is_json(file_path):
            msg = QMessageBox()
            msg.setWindowTitle("Ошибка")
            msg.setText("Файл повреждён. Для продолжения загрузите актуальное расписание(Файл/Загрузить актуальное расписание)")
            msg.setIcon(QMessageBox.Critical)
            msg.exec_()
            sys.exit(app.exec_())

    # Основная функция отрисовки
    def setupUi(self, MainWindow):
        data_vars_func()
        if not error_flag:
            MainWindow.setObjectName("MainWindow")
            MainWindow.resize(1620, 2000)
            MainWindow.move(50, 50)
            palette = QtGui.QPalette()
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.WindowText, brush)
            brush = QtGui.QBrush(QtGui.QColor(250, 250, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Button, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Light, brush)
            brush = QtGui.QBrush(QtGui.QColor(252, 252, 252))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Midlight, brush)
            brush = QtGui.QBrush(QtGui.QColor(125, 125, 125))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Dark, brush)
            brush = QtGui.QBrush(QtGui.QColor(167, 167, 167))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Mid, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Text, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.BrightText, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.ButtonText, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Base, brush)
            brush = QtGui.QBrush(QtGui.QColor(250, 250, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Window, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Shadow, brush)
            brush = QtGui.QBrush(QtGui.QColor(252, 252, 252))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.AlternateBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.ToolTipBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.ToolTipText, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.WindowText, brush)
            brush = QtGui.QBrush(QtGui.QColor(250, 250, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Button, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Light, brush)
            brush = QtGui.QBrush(QtGui.QColor(252, 252, 252))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Midlight, brush)
            brush = QtGui.QBrush(QtGui.QColor(125, 125, 125))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Dark, brush)
            brush = QtGui.QBrush(QtGui.QColor(167, 167, 167))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Mid, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Text, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.BrightText, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ButtonText, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Base, brush)
            brush = QtGui.QBrush(QtGui.QColor(250, 250, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Window, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Shadow, brush)
            brush = QtGui.QBrush(QtGui.QColor(252, 252, 252))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.AlternateBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ToolTipBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ToolTipText, brush)
            brush = QtGui.QBrush(QtGui.QColor(125, 125, 125))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.WindowText, brush)
            brush = QtGui.QBrush(QtGui.QColor(250, 250, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Button, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Light, brush)
            brush = QtGui.QBrush(QtGui.QColor(252, 252, 252))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Midlight, brush)
            brush = QtGui.QBrush(QtGui.QColor(125, 125, 125))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Dark, brush)
            brush = QtGui.QBrush(QtGui.QColor(167, 167, 167))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Mid, brush)
            brush = QtGui.QBrush(QtGui.QColor(125, 125, 125))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Text, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.BrightText, brush)
            brush = QtGui.QBrush(QtGui.QColor(125, 125, 125))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ButtonText, brush)
            brush = QtGui.QBrush(QtGui.QColor(250, 250, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Base, brush)
            brush = QtGui.QBrush(QtGui.QColor(250, 250, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Window, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Shadow, brush)
            brush = QtGui.QBrush(QtGui.QColor(250, 250, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.AlternateBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ToolTipBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ToolTipText, brush)
            MainWindow.setPalette(palette)
            MainWindow.setLayoutDirection(QtCore.Qt.LeftToRight)
            self.centralwidget = QtWidgets.QWidget(MainWindow)
            self.centralwidget.setObjectName("centralwidget")

            self.layout = QtWidgets.QVBoxLayout(self.centralwidget)

            self.scrollArea_func()

            self.verticalLayout_2 = QtWidgets.QVBoxLayout(self.scrollAreaWidgetContents)
            self.verticalLayout_2.setObjectName("verticalLayout_2")
            self.verticalLayout = QtWidgets.QVBoxLayout()
            self.verticalLayout.setSizeConstraint(QtWidgets.QLayout.SetDefaultConstraint)
            self.verticalLayout.setSpacing(30)
            self.verticalLayout.setObjectName("verticalLayout")

            self.week_info_frame = QtWidgets.QFrame(self.scrollAreaWidgetContents)
            self.week_info_frame.setEnabled(True)
            sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Preferred)
            sizePolicy.setHorizontalStretch(0)
            sizePolicy.setVerticalStretch(0)
            sizePolicy.setHeightForWidth(self.week_info_frame.sizePolicy().hasHeightForWidth())
            self.week_info_frame.setSizePolicy(sizePolicy)
            self.week_info_frame.setMinimumSize(QtCore.QSize(0, 30))
            self.week_info_frame.setMaximumSize(QtCore.QSize(16777215, 30))
            self.week_info_frame.setFrameShape(QtWidgets.QFrame.StyledPanel)
            self.week_info_frame.setFrameShadow(QtWidgets.QFrame.Raised)
            self.week_info_frame.setObjectName("week_info_frame")
            self.horizontalLayout = QtWidgets.QHBoxLayout(self.week_info_frame)
            self.horizontalLayout.setContentsMargins(-1, 0, -1, 0)
            self.horizontalLayout.setObjectName("horizontalLayout")
            spacerItem = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
            self.horizontalLayout.addItem(spacerItem)
            self.main_title = QtWidgets.QLabel(self.week_info_frame)
            sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
            sizePolicy.setHorizontalStretch(0)
            sizePolicy.setVerticalStretch(0)
            sizePolicy.setHeightForWidth(self.main_title.sizePolicy().hasHeightForWidth())
            self.main_title.setSizePolicy(sizePolicy)
            self.main_title.setMinimumSize(QtCore.QSize(310, 30))
            self.main_title.setMaximumSize(QtCore.QSize(310, 30))
            palette = QtGui.QPalette()
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.WindowText, brush)
            brush = QtGui.QBrush(QtGui.QColor(193, 126, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Button, brush)
            brush = QtGui.QBrush(QtGui.QColor(253, 249, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Light, brush)
            brush = QtGui.QBrush(QtGui.QColor(223, 187, 252))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Midlight, brush)
            brush = QtGui.QBrush(QtGui.QColor(96, 63, 125))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Dark, brush)
            brush = QtGui.QBrush(QtGui.QColor(129, 84, 167))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Mid, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Text, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.BrightText, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.ButtonText, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Base, brush)
            brush = QtGui.QBrush(QtGui.QColor(193, 126, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Window, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Shadow, brush)
            brush = QtGui.QBrush(QtGui.QColor(224, 190, 252))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.AlternateBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.ToolTipBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.ToolTipText, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.WindowText, brush)
            brush = QtGui.QBrush(QtGui.QColor(193, 126, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Button, brush)
            brush = QtGui.QBrush(QtGui.QColor(253, 249, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Light, brush)
            brush = QtGui.QBrush(QtGui.QColor(223, 187, 252))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Midlight, brush)
            brush = QtGui.QBrush(QtGui.QColor(96, 63, 125))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Dark, brush)
            brush = QtGui.QBrush(QtGui.QColor(129, 84, 167))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Mid, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Text, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.BrightText, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ButtonText, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Base, brush)
            brush = QtGui.QBrush(QtGui.QColor(193, 126, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Window, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Shadow, brush)
            brush = QtGui.QBrush(QtGui.QColor(224, 190, 252))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.AlternateBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ToolTipBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ToolTipText, brush)
            brush = QtGui.QBrush(QtGui.QColor(96, 63, 125))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.WindowText, brush)
            brush = QtGui.QBrush(QtGui.QColor(193, 126, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Button, brush)
            brush = QtGui.QBrush(QtGui.QColor(253, 249, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Light, brush)
            brush = QtGui.QBrush(QtGui.QColor(223, 187, 252))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Midlight, brush)
            brush = QtGui.QBrush(QtGui.QColor(96, 63, 125))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Dark, brush)
            brush = QtGui.QBrush(QtGui.QColor(129, 84, 167))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Mid, brush)
            brush = QtGui.QBrush(QtGui.QColor(96, 63, 125))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Text, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.BrightText, brush)
            brush = QtGui.QBrush(QtGui.QColor(96, 63, 125))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ButtonText, brush)
            brush = QtGui.QBrush(QtGui.QColor(193, 126, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Base, brush)
            brush = QtGui.QBrush(QtGui.QColor(193, 126, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Window, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Shadow, brush)
            brush = QtGui.QBrush(QtGui.QColor(193, 126, 250))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.AlternateBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ToolTipBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ToolTipText, brush)
            self.main_title.setPalette(palette)
            font = QtGui.QFont()
            font.setFamily("Arial")
            font.setPointSize(16)
            self.main_title.setFont(font)
            self.main_title.setScaledContents(False)
            self.main_title.setAlignment(QtCore.Qt.AlignCenter)
            self.main_title.setObjectName("main_title")
            self.horizontalLayout.addWidget(self.main_title)
            spacerItem1 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
            self.horizontalLayout.addItem(spacerItem1)
            self.right_subtitle = QtWidgets.QLabel(self.week_info_frame)
            sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
            sizePolicy.setHorizontalStretch(0)
            sizePolicy.setVerticalStretch(0)
            sizePolicy.setHeightForWidth(self.right_subtitle.sizePolicy().hasHeightForWidth())
            self.right_subtitle.setSizePolicy(sizePolicy)
            self.right_subtitle.setMinimumSize(QtCore.QSize(200, 30))
            self.right_subtitle.setMaximumSize(QtCore.QSize(200, 30))
            palette = QtGui.QPalette()
            brush = QtGui.QBrush(QtGui.QColor(111, 111, 111))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.WindowText, brush)
            brush = QtGui.QBrush(QtGui.QColor(111, 111, 111))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Button, brush)
            brush = QtGui.QBrush(QtGui.QColor(167, 167, 167))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Light, brush)
            brush = QtGui.QBrush(QtGui.QColor(139, 139, 139))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Midlight, brush)
            brush = QtGui.QBrush(QtGui.QColor(55, 55, 55))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Dark, brush)
            brush = QtGui.QBrush(QtGui.QColor(74, 74, 74))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Mid, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Text, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.BrightText, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.ButtonText, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Base, brush)
            brush = QtGui.QBrush(QtGui.QColor(111, 111, 111))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Window, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Shadow, brush)
            brush = QtGui.QBrush(QtGui.QColor(55, 55, 55))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.AlternateBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.ToolTipBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.ToolTipText, brush)
            brush = QtGui.QBrush(QtGui.QColor(111, 111, 111))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.WindowText, brush)
            brush = QtGui.QBrush(QtGui.QColor(111, 111, 111))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Button, brush)
            brush = QtGui.QBrush(QtGui.QColor(167, 167, 167))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Light, brush)
            brush = QtGui.QBrush(QtGui.QColor(139, 139, 139))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Midlight, brush)
            brush = QtGui.QBrush(QtGui.QColor(55, 55, 55))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Dark, brush)
            brush = QtGui.QBrush(QtGui.QColor(74, 74, 74))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Mid, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Text, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.BrightText, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ButtonText, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Base, brush)
            brush = QtGui.QBrush(QtGui.QColor(111, 111, 111))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Window, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Shadow, brush)
            brush = QtGui.QBrush(QtGui.QColor(55, 55, 55))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.AlternateBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ToolTipBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ToolTipText, brush)
            brush = QtGui.QBrush(QtGui.QColor(55, 55, 55))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.WindowText, brush)
            brush = QtGui.QBrush(QtGui.QColor(111, 111, 111))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Button, brush)
            brush = QtGui.QBrush(QtGui.QColor(167, 167, 167))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Light, brush)
            brush = QtGui.QBrush(QtGui.QColor(139, 139, 139))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Midlight, brush)
            brush = QtGui.QBrush(QtGui.QColor(55, 55, 55))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Dark, brush)
            brush = QtGui.QBrush(QtGui.QColor(74, 74, 74))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Mid, brush)
            brush = QtGui.QBrush(QtGui.QColor(55, 55, 55))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Text, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.BrightText, brush)
            brush = QtGui.QBrush(QtGui.QColor(55, 55, 55))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ButtonText, brush)
            brush = QtGui.QBrush(QtGui.QColor(111, 111, 111))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Base, brush)
            brush = QtGui.QBrush(QtGui.QColor(111, 111, 111))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Window, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Shadow, brush)
            brush = QtGui.QBrush(QtGui.QColor(111, 111, 111))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.AlternateBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(255, 255, 220))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ToolTipBase, brush)
            brush = QtGui.QBrush(QtGui.QColor(0, 0, 0))
            brush.setStyle(QtCore.Qt.SolidPattern)
            palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ToolTipText, brush)
            self.right_subtitle.setPalette(palette)
            font = QtGui.QFont()
            font.setFamily("Arial")
            font.setPointSize(14)
            self.right_subtitle.setFont(font)
            self.right_subtitle.setScaledContents(False)
            self.right_subtitle.setAlignment(QtCore.Qt.AlignCenter)
            self.right_subtitle.setObjectName("right_subtitle")
            self.horizontalLayout.addWidget(self.right_subtitle)
            self.verticalLayout.addWidget(self.week_info_frame)
            self.gridLayout = QtWidgets.QGridLayout()
            self.gridLayout.setSpacing(2)
            self.gridLayout.setObjectName("gridLayout")
            self.empty_header_frame = QtWidgets.QFrame(self.scrollAreaWidgetContents)
            sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Fixed)
            sizePolicy.setHorizontalStretch(0)
            sizePolicy.setVerticalStretch(0)
            sizePolicy.setHeightForWidth(self.empty_header_frame.sizePolicy().hasHeightForWidth())
            self.empty_header_frame.setSizePolicy(sizePolicy)
            self.empty_header_frame.setMinimumSize(QtCore.QSize(120, 95))
            self.empty_header_frame.setMaximumSize(QtCore.QSize(120, 95))
            self.empty_header_frame.setFrameShape(QtWidgets.QFrame.StyledPanel)
            self.empty_header_frame.setFrameShadow(QtWidgets.QFrame.Raised)
            self.empty_header_frame.setObjectName("empty_header_frame")
            self.gridLayout.addWidget(self.empty_header_frame, 1, 0, 1, 1)

            for i in range(len(time_chunks)):
                self.row_header_func(i)
            MainWindow.resize(1620, 900)

            for i in range(len(data["rows"]["week"]["weekRussia"]["days"])):
                self.column_header_func(i)

            # Вставка hlayout в таблицу уроков
            lessons_temp = []
            c = 0
            for i in range(len(lessons_data)):
                temp = [lessons_data[i]["type"], lessons_data[i]["weekDayNumber"], lessons_data[i]["timeChunks"], lessons_data[i]["course"], lessons_data[i]["groups"][0]["id"]]
                if (temp in lessons_temp) and (temp not in self.double_lessons_list):
                    self.hlayout_func(c, lessons_data[i]["timeChunks"][0], lessons_data[i]["weekDayNumber"], len(lessons_data[i]["timeChunks"]))
                    self.double_lessons_list.append(temp)
                    c += 1
                else:
                    lessons_temp.append(temp)
            lessons_temp.clear()

            # Вставка уроков в таблицу
            for i in range(len(lessons_data)):
                duration = len(lessons_data[i]["timeChunks"])
                self.lessons_func(i, lessons_data[i]["timeChunks"][0], lessons_data[i]["weekDayNumber"], duration)

            self.verticalLayout.addLayout(self.gridLayout)
            self.verticalLayout_2.addLayout(self.verticalLayout)
            spacerItem2 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
            self.verticalLayout_2.addItem(spacerItem2)
            MainWindow.setCentralWidget(self.centralwidget)

            # Меню
            self.menu["bar"] = QtWidgets.QMenuBar(MainWindow)
            self.menu["bar"].setGeometry(QtCore.QRect(0, 0, 1620, 21))
            self.menu["bar"].setObjectName("menuBar")
            self.menu["file"] = {"widget": QtWidgets.QMenu(self.menu["bar"])}
            self.menu["file"]["widget"].setObjectName("menu_file")
            self.menu["file"]["open"] = QtWidgets.QAction(MainWindow)
            self.menu["file"]["open"].setObjectName("menu_file_open")
            self.menu["file"]["save"] = QtWidgets.QAction(MainWindow)
            self.menu["file"]["save"].setObjectName("menu_file_save")
            self.menu["file"]["widget"].addAction(self.menu["file"]["open"])
            self.menu["file"]["widget"].addAction(self.menu["file"]["save"])
            self.menu["file"]["open"].triggered.connect(self.schedule_open)
            self.menu["file"]["save"].triggered.connect(self.schedule_save)
            self.menu["settings"] = QtWidgets.QMenu(self.menu["bar"])
            self.menu["settings"].setObjectName("menu_settings")
            self.menu["about"] = QtWidgets.QMenu(self.menu["bar"])
            self.menu["about"].setObjectName("menu_about")
            MainWindow.setMenuBar(self.menu["bar"])
            self.menu["bar"].addAction(self.menu["file"]["widget"].menuAction())
            self.menu["bar"].addAction(self.menu["settings"].menuAction())
            self.menu["bar"].addAction(self.menu["about"].menuAction())

            self.retranslateUi(MainWindow)
            QtCore.QMetaObject.connectSlotsByName(MainWindow)

    # Функция написания текста на фреймах
    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "Расписание"))
        self.main_title.setText(_translate("MainWindow", main_title))
        self.right_subtitle.setText(_translate("MainWindow", right_subtitle))

        # Написание текста в заголовки строк
        for i in range(len(time_chunks)):
            self.row_header[i]["label"].setText(_translate("MainWindow", time_chunks[i]))

        # Написание текста в заголовки столбцов
        for i in range(len(data["rows"]["week"]["weekRussia"]["days"])):
            self.column_header[i]["label_1"].setText(_translate("MainWindow", days_of_week[i]))
            self.column_header[i]["label_2"].setText(_translate("MainWindow", str(dates[i])))

        # Написание текста в уроки
        for i in range(len(lessons_data)):
            self.lessons[i]["label"].setText(_translate("MainWindow", lessons_data[i]["course"]["name"]))
            s = ""
            for j in range(len(lessons_data[i]["rooms"])):
                s += "ауд. " + lessons_data[i]["rooms"][j]["number"] + ", "
            s += lessons_data[i]["type"] + "\n"
            for j in range(len(lessons_data[i]["teachers"])):
                if j == len(lessons_data[i]["teachers"])-1:
                    s += lessons_data[i]["teachers"][j]["lastName"] + " " + lessons_data[i]["teachers"][j]["firstName"][0] + ". " + lessons_data[i]["teachers"][j]["patronymic"][0] + "."
                else:
                    s += lessons_data[i]["teachers"][j]["lastName"] + " " + lessons_data[i]["teachers"][j]["firstName"][0] + ". " + lessons_data[i]["teachers"][j]["patronymic"][0] + "., "    
            self.lessons[i]["label_1"].setText(_translate("MainWindow", s))

        self.menu["file"]["widget"].setTitle(_translate("MainWindow", "Файл"))
        self.menu["settings"].setTitle(_translate("MainWindow", "Настройки"))
        self.menu["about"].setTitle(_translate("MainWindow", "О программе"))
        self.menu["file"]["open"].setText(_translate("MainWindow", "Открыть"))
        self.menu["file"]["save"].setText(_translate("MainWindow", "Сохранить расисание"))

        MainWindow.setCentralWidget(self.centralwidget)

    # def closeEvent(self, event):
    #     # Переопределить colseEvent
    #     reply = QMessageBox.question\
    #     (self, 'Вы нажали на крестик',
    #         "Вы уверены, что хотите уйти?",
    #          QMessageBox.Yes,
    #          QMessageBox.No)
    #     if reply == QMessageBox.Yes:
    #         event.accept()
    #     else:
    #         event.ignore()

# def main():

# Флаг отвечает за бесконечный цикл
# flag = 1
# while flag:
if __name__ == "__main__":
    import sys
    global app, MainWindow, ui
    app = QtWidgets.QApplication(sys.argv)
    MainWindow = QtWidgets.QMainWindow()
    ui = Ui_MainWindow()
    ui.setupUi(MainWindow)
    MainWindow.show()
    sys.exit(app.exec_())
    #MainWindow.close()


# main()